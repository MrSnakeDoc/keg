#!/bin/sh
commit_message=$(cat "$1")

if ! echo "$commit_message" | grep -Eq "^(feat|fix|chore|docs|style|refactor|test|perf|adj)\([a-zA-Z0-9\-]+\): .+"; then
  echo "Error: Commit message format must be: 'type(scope): description'"
  echo "Valid types: feat, fix, chore, docs, style, refactor, test, perf, adj"
  echo "Examples:"
  echo "  feat(add): add alert routing logic"
  echo "  fix(update): correct payload format"
  echo "  refactor(upgrade): cleanup logger init"
  echo "  chore(deps): bump gin to v1.9.1"
  echo ""
  echo "Allowed types:"
  echo "  feat      : âœ¨ New feature"
  echo "  fix       : ğŸ› Bug fix"
  echo "  chore     : ğŸ“¦ Maintenance or non-functional change"
  echo "  docs      : ğŸ“ Documentation update"
  echo "  style     : ğŸ’… Code style/formatting (no logic change)"
  echo "  refactor  : ğŸ§  Code refactor (no new features or fixes)"
  echo "  test      : âœ… Adding or modifying tests"
  echo "  perf      : âš¡ï¸ Performance improvements"
  echo "  adj       : ğŸ§© Structure or file organization"
  exit 1
fi

#!/bin/sh
commit_message=$(cat "$1")